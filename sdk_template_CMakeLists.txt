cmake_minimum_required(VERSION 3.15)
project(MyMiyabiGame CXX C)

# --- Setup C++ Standard ---
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED TRUE)
set(CMAKE_CXX_EXTENSIONS OFF)
if(MSVC)
    add_compile_options(/Zc:__cplusplus)
endif()

# --- Define MIYABI SDK Paths ---
# Assumes the SDK is placed in a subdirectory named "miyabi_sdk"
set(MIYABI_SDK_PATH ${CMAKE_CURRENT_SOURCE_DIR}/miyabi_sdk)
include_directories(${MIYABI_SDK_PATH}/include)
link_directories(${MIYABI_SDK_PATH}/lib)

# --- Add Your Game Executable ---
add_executable(my_game
    src/main.cpp
    # Add your other source files here
)

# --- Link against MIYABI logic static libraries ---
# This template links the Rust logic + cxx bridge artifacts.
# The rendering/input host loop should be implemented by this project.
target_link_libraries(my_game PRIVATE
    miyabi_logic
    miyabi_logic_cxx
)
